<section class="news-list">
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h2 style="margin:0">Top Headlines</h2>
      <button class="btn" (click)="fetch()">Refresh</button>
    </div>

    <div *ngIf="loading" style="margin-top:12px;display:flex;gap:12px;align-items:center">
      <div class="spinner"></div>
      <div class="muted">Loading headlines…</div>
    </div>

    <div *ngIf="error" style="margin-top:12px;color:var(--danger)">Error: {{ error }}</div>

    <div class="news-grid" *ngIf="!loading && articles.length">
      <article class="news-item card" *ngFor="let a of articles; let i = index">
        <a [routerLink]="['/news', i]" style="color:inherit;text-decoration:none">
          <div class="thumb" *ngIf="a.image" [style.backgroundImage]="'url(' + a.image + ')'" style="background-size:cover;background-position:center"></div>
          <h3>{{ a.title }}</h3>
          <p class="muted">{{ a.description }}</p>
          <div class="muted" style="font-size:12px;margin-top:8px">{{ a.source?.name }} • {{ a.publishedAt | date:'short' }}</div>
        </a>
      </article>
    </div>

    <div *ngIf="!loading && !articles.length" style="margin-top:12px" class="muted">No articles available.</div>
  </div>
</section>
